<canvas width="600" height="400"></canvas>

<script>
   //======================================================
   //Configuracion de pantalla
    var screen = document.querySelector("canvas");
    brush = screen.getContext("2d");
    brush.fillStyle = "lightgrey";
    brush.fillRect(0, 0, 600, 400);
    brush.strokeStyle = "grey";
    brush.strokeRect(0, 0, 600, 400)

   //======================================================
    //creando paleta de colores
    brush.fillStyle = "red";
    brush.fillRect(0, 0, 50, 50);
    brush.strokeStyle = "black";
    brush.strokeRect(0, 0, 50, 50);

    brush.fillStyle = "green";
    brush.fillRect(50, 0, 50, 50);
    brush.strokeStyle = "black";
    brush.strokeRect(50, 0, 50, 50);

    brush.fillStyle = "blue";
    brush.fillRect(100, 0, 50, 50);
    brush.strokeStyle = "black";
    brush.strokeRect(100, 0, 50, 50);

    //======================================================
    var color = "red";
    var x, y;
    var puedo_dibujar = false;

    function dibujar_circulo(evento)
    {
        if(puedo_dibujar)
        {
            x = evento.pageX - screen.offsetLeft;
            y = evento.pageY - screen.offsetTop;
            if(x > 155 || y > 55)
            {
                brush.fillStyle = color;
                brush.beginPath();
                brush.arc(x, y, 5, 0, 2*Math.PI);
                brush.fill();
            }
            
        }
    }

    screen.onmousemove = dibujar_circulo;

    function habilitar_dibujar()
    {
        puedo_dibujar = true;
    }

    function deshabilitar_dibujar()
    {
        puedo_dibujar = false;
    }

    function cambiar_color(evento)
    {
        x = evento.pageX - screen.offsetLeft;// fue necesario volver a asigar la var x para que cada vez que hubiera click
                                            // el valor se actualizara
        y = evento.pageY - screen.offsetTop;
        if ((x >= 0)&&(x <= 50)&&(y >= 0)&&(y <= 50))
        {
            color = "red"
        }
        if ((x > 50 )&&(x <= 100)&&(y >= 0)&&(y <= 50))
        {
            color = "green"
        }
        if ((x > 100 )&&(x <= 150)&&(y >= 0)&&(y <= 50))
        {
            color = "blue"
        }
    }

    screen.onmousedown = habilitar_dibujar;
    screen.onmouseup = deshabilitar_dibujar;
    screen.onclick = cambiar_color;





</script>